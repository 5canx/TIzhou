{% extends "admin/index.html" %}
{% load static %}

{% block extrastyle %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'css/admin_custom.css' %}" />
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="dashboard-header">
        <h1>é¢˜èˆŸ - ç®¡ç†åå°</h1>
        <p>æ¬¢è¿ä½¿ç”¨é¢˜èˆŸç®¡ç†åå°</p>
    </div>
    
    <div class="dashboard-stats">
        <div class="stat-card">
            <div class="stat-icon">ğŸ‘¥</div>
            <div class="stat-content">
                <div class="stat-number">{{ total_users }}</div>
                <div class="stat-label">ç”¨æˆ·æ€»æ•°</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">ğŸ“</div>
            <div class="stat-content">
                <div class="stat-number">{{ total_submissions }}</div>
                <div class="stat-label">é¢˜ç›®æ€»æ•°</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">â³</div>
            <div class="stat-content">
                <div class="stat-number">{{ pending_submissions }}</div>
                <div class="stat-label">å¾…å®¡æ ¸</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">âœ…</div>
            <div class="stat-content">
                <div class="stat-number">{{ approved_submissions }}</div>
                <div class="stat-label">å·²å®¡æ ¸</div>
            </div>
        </div>
    </div>
    
    <div class="dashboard-recent">
        <h2>æœ€è¿‘æ´»åŠ¨</h2>
        <div class="activity-list">
            {% for log in recent_logs %}
            <div class="activity-item">
                <div class="activity-time">{{ log.created_at|date:"Y-m-d H:i" }}</div>
                <div class="activity-action">{{ log.action }}</div>
                <div class="activity-user">ç”± {{ log.user.username }} æ“ä½œ</div>
            </div>
            {% empty %}
            <div class="activity-empty">æš‚æ— æœ€è¿‘æ´»åŠ¨è®°å½•</div>
            {% endfor %}
        </div>
    </div>
    
    <div class="dashboard-app-list">
        <h2>å¿«é€Ÿè®¿é—®</h2>
        <div class="app-cards">
            {% for app in app_list %}
            <div class="app-card">
                <h3>{{ app.name }}</h3>
                <div class="app-models">
                    {% for model in app.models %}
                    <a href="{{ model.admin_url }}" class="model-link">
                        {{ model.name }}
                    </a>
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}